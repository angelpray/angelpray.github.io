

<!DOCTYPE html>
<html lang="">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="学习ES6(七)——函数的扩展"/>




  <meta name="keywords" content="ES6," />





  <link rel="alternate" href="/default" title="Janro-Cheung">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="https://angelpray.github.io/2018/05/17/学习ES6(七)——函数的扩展/"/>


<meta name="description" content="函数的默认值 ES5函数默认值的写法: 12345678910function log(x,y) &amp;#123;  y = y || &apos;World&apos;; //这是逻辑或的hack用法，表示如果y是false，则y=&apos;World&apos;  console.log(x, y);&amp;#125;log(&apos;Hello&apos;) // Hello Worldlog(&apos;Hello&apos;, &apos;China&apos;) // Hello Chin">
<meta name="keywords" content="ES6">
<meta property="og:type" content="article">
<meta property="og:title" content="学习ES6(七)——函数的扩展">
<meta property="og:url" content="https://angelpray.github.io/2018/05/17/学习ES6(七)——函数的扩展/index.html">
<meta property="og:site_name" content="Janro-Cheung">
<meta property="og:description" content="函数的默认值 ES5函数默认值的写法: 12345678910function log(x,y) &amp;#123;  y = y || &apos;World&apos;; //这是逻辑或的hack用法，表示如果y是false，则y=&apos;World&apos;  console.log(x, y);&amp;#125;log(&apos;Hello&apos;) // Hello Worldlog(&apos;Hello&apos;, &apos;China&apos;) // Hello Chin">
<meta property="og:locale" content="zh-cn">
<meta property="og:updated_time" content="2018-06-07T02:52:20.545Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="学习ES6(七)——函数的扩展">
<meta name="twitter:description" content="函数的默认值 ES5函数默认值的写法: 12345678910function log(x,y) &amp;#123;  y = y || &apos;World&apos;; //这是逻辑或的hack用法，表示如果y是false，则y=&apos;World&apos;  console.log(x, y);&amp;#125;log(&apos;Hello&apos;) // Hello Worldlog(&apos;Hello&apos;, &apos;China&apos;) // Hello Chin">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> 学习ES6(七)——函数的扩展 - Janro-Cheung </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Janro-Cheung</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                所有文章
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                关于
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          学习ES6(七)——函数的扩展
        
      </h1>

      <time class="post-time">
          5月 17 2018
      </time>
    </header>



    
            <div class="post-content">
            <h2 id="函数的默认值"><a href="#函数的默认值" class="headerlink" title="函数的默认值"></a>函数的默认值</h2><ul>
<li><p>ES5函数默认值的写法:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">x,y</span>) </span>&#123;</span><br><span class="line">  y = y || <span class="string">'World'</span>; <span class="comment">//这是逻辑或的hack用法，表示如果y是false，则y='World'</span></span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line">log(<span class="string">'Hello'</span>) <span class="comment">// Hello World</span></span><br><span class="line">log(<span class="string">'Hello'</span>, <span class="string">'China'</span>) <span class="comment">// Hello China</span></span><br><span class="line">log(<span class="string">'Hello'</span>, <span class="string">''</span>) <span class="comment">// Hello World</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//解决方案</span></span><br><span class="line">(<span class="keyword">typeof</span> y === <span class="string">'undefined'</span>) &amp;&amp; y =<span class="string">'World'</span>;<span class="comment">//这是逻辑与的hack用法，表示如果y是true，则y='World'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>缺点在于：参数y赋值了，但对应的是布尔值是false，则该赋值还是不起<br>作用。</p>
</li>
<li><p>ES6默认参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">x, y = <span class="string">'World'</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line">log(<span class="string">'Hello'</span>) <span class="comment">// Hello World</span></span><br><span class="line">log(<span class="string">'Hello'</span>, <span class="string">'China'</span>) <span class="comment">// Hello China</span></span><br><span class="line">log(<span class="string">'Hello'</span>, <span class="string">''</span>) <span class="comment">// Hello World</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6默认参数,有以下好处：</p>
</li>
</ul>
<ol>
<li>代码可阅读性提高了，可以意识到有哪些参数可以省略了。</li>
<li>代码优化，比如，我们彻底拿掉这个参数（这里指的肯定是实参），也不会导致以前的代码无法<br>运行。</li>
</ol>
<ul>
<li>有以下几点需要注意：</li>
</ul>
<ol>
<li>参数是默认声明的（这里指的肯定是let），所以在函数体内不能再次使用const或者let再次声明。</li>
<li>原则同上，函数不能有同名参数。</li>
<li>参数默认都是<em>惰性求值</em>（用到几个就计算几个）的，比如：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x =<span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">n = x + <span class="number">1</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(n);</span><br><span class="line">&#125;</span><br><span class="line">test(); <span class="comment">// 2;</span></span><br><span class="line">x = <span class="number">10</span>;</span><br><span class="line">test(); <span class="comment">// 11;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="与结构赋值默认值结合使用"><a href="#与结构赋值默认值结合使用" class="headerlink" title="与结构赋值默认值结合使用"></a>与结构赋值默认值结合使用</h2><ul>
<li>这块有点复杂的，先不写。后续再战。</li>
</ul>
<h2 id="参数默认值的位置"><a href="#参数默认值的位置" class="headerlink" title="参数默认值的位置"></a>参数默认值的位置</h2><ul>
<li>参数的默认位置有一条重要的原则：默认值的参数应该始终都是放在最后的。否则，这个参数实际<br>上时无法省略的。简单的小例子：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">x = <span class="number">1</span>, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [x, y];</span><br><span class="line">&#125;</span><br><span class="line">sum(); <span class="comment">// [1, undefined]</span></span><br><span class="line">sum(<span class="number">2</span>); <span class="comment">// [2, undefined]</span></span><br><span class="line"><span class="comment">/* sum(,1); // 报错 */</span></span><br><span class="line">sum(<span class="literal">undefined</span>, <span class="number">1</span>); <span class="comment">// [1, 1]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="函数的-length属性"><a href="#函数的-length属性" class="headerlink" title="函数的 length属性"></a>函数的 length属性</h2><ul>
<li><p>函数length属性和参数默认值得位置一样，都有一个很重要的原则：length属性返回的是没有指定<br>默认值的参数个数。这是因为函数的length属性返回的是<strong>预期传入的参数个数</strong>。另外，如果参数<br>默认值的位置不是放在最后，那么后面的参数length属性也不会计算。</p>
</li>
<li><p>rest参数也不会计入length属性。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//rest参数</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;&#125;).length; <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//参数默认值位置在最后</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">x, y = <span class="number">1</span></span>) </span>&#123;&#125;); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//参数默认值不是放在最后</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">y = <span class="number">1</span>, x</span>) </span>&#123;&#125;); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><ul>
<li>函数参数的作用域也有一个重要的原则：<strong>一旦设置了参数的默认值，参数就会形成一个单独的</strong><br><strong>作用域，初始化结束以后作用域就消失，然而如果不设置参数默认值，这个作用域是不会出现的！</strong>，如下例子：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例子1</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">x, y = x</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(y);</span><br><span class="line">&#125;</span><br><span class="line">test(<span class="number">2</span>);<span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 例子2</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params">y = x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(y);</span><br><span class="line">&#125;</span><br><span class="line">test1();<span class="comment">// 10</span></span><br><span class="line"><span class="comment">// 利用参数默认值，指定某一个参数不得省略，否则抛出一个错误</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throwIfMissing</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Missing parameter'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">mustBeProvided = throwIfMissing(</span>)) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'参数默认值不可省略！'</span>);</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">//抛出一个错误</span></span><br><span class="line"><span class="comment">// 设定参数默认值为undefined，表明参数是可以省略的</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">optional = undefined</span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="rest参数"><a href="#rest参数" class="headerlink" title="rest参数"></a>rest参数</h2><ul>
<li><p>rest参数，用于获取函数的多余参数，这样就不需要arguments对象了。rest参数变量是一个数组<br>，变量将多余的参数放入数组中。</p>
</li>
<li><p>应用</p>
</li>
</ul>
<ol>
<li>求和函数，传入任意数目的参数</li>
<li>使用rest参数代替arguments变量的例子<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 求和函数 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> val <span class="keyword">of</span> values) &#123;</span><br><span class="line">    sum += val;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line">add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* rest参数代替arguments */</span></span><br><span class="line"><span class="comment">// arguments写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNumbers</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// arguments并不是真正的数组，所以只能使用call+slice将它转换成为真正的数组</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>).sort();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// rest参数写法</span></span><br><span class="line"><span class="keyword">const</span> sortNumbers = <span class="function">(<span class="params">...numbers</span>) =&gt;</span> numbers.sort();</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>注意</li>
</ul>
<ol>
<li>rest参数之后不能有任何的参数，否则error。</li>
<li>前面提到的length属性不包括rest参数。</li>
</ol>
<h2 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h2><ul>
<li>ES5，函数内部可以设定严格模式.ES6开始，函数参数使用了默认值，解构赋值，或者扩展运算符<br>则函数内部不能设定为严格模式，否则error。</li>
<li>解决方法</li>
</ul>
<ol>
<li>全局性的严格模式</li>
<li>把函数包在一个无参数的立即执行函数里面。</li>
</ol>
<h2 id="name属性"><a href="#name属性" class="headerlink" title="name属性"></a>name属性</h2><ul>
<li>ES6中函数的name属性，返回该函数的函数名。</li>
<li>应用</li>
</ul>
<ol>
<li>返回函数的函数名</li>
<li>bind+name属性，返回bound前缀<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 返回函数名 */</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="comment">// es5会返回""</span></span><br><span class="line">f.name; <span class="comment">// 'f'</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">test.name;<span class="comment">// 'foo'</span></span><br><span class="line">(<span class="keyword">new</span> <span class="built_in">Function</span>).name <span class="comment">// 'anonymous'</span></span><br><span class="line"><span class="comment">/* 返回bound前缀 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">foo.bind(&#123;&#125;).name <span class="comment">// "bound foo";</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><ul>
<li>ES6最具代表性的箭头函数，允许使用“箭头”(=&gt;)定义函数。</li>
<li>应用</li>
</ul>
<ol>
<li>定义函数</li>
<li>多个参数或不需要参数，一个圆括号代表参数</li>
<li>代码块多余一条语句，用大括号括起来，并使用return语句返回。</li>
<li>直接返回一个对象时，需要在对象外面加上括号。</li>
<li>简化回调函数</li>
<li>rest参数结合箭头函数</li>
<li>箭头函数结合解构赋值</li>
<li>箭头函数可以让this指向固定化，这种特性很有利于封装回调函数。</li>
<li>箭头函数导致this总是指向函数定义生效时所在的对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/* 定义函数 */</span></span><br><span class="line"><span class="keyword">let</span> test = <span class="function"><span class="params">unremitting</span> =&gt;</span> unremitting;</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="function"><span class="keyword">function</span>(<span class="params">unremitting</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> unremitting;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* 多个参数或一个参数 */</span></span><br><span class="line"> <span class="keyword">var</span> test = <span class="function">(<span class="params">unremitting, ability</span>) =&gt;</span> unremitting;</span><br><span class="line"> <span class="keyword">var</span> test1 = <span class="function"><span class="params">()</span> =&gt;</span> <span class="number">1</span>;</span><br><span class="line"> <span class="comment">/* 代码块多余一条语句 */</span></span><br><span class="line"> <span class="keyword">var</span> test = <span class="function">(<span class="params">unremitting, ability</span>) =&gt;</span> &#123;<span class="keyword">let</span> life = unremitting + ability;&#125;;</span><br><span class="line"> <span class="comment">/* 直接返回一个对象 */</span></span><br><span class="line"> <span class="keyword">var</span> test = <span class="function"><span class="params">()</span> =&gt;</span> (&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;);</span><br><span class="line"> <span class="comment">/* 简化回调函数 */</span></span><br><span class="line"> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x * x);</span><br><span class="line"> <span class="comment">// 等价于</span></span><br><span class="line"> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> x * x;</span><br><span class="line">   &#125;);</span><br><span class="line"> <span class="comment">/* rest参数结合箭头函数 */</span></span><br><span class="line"> <span class="keyword">var</span> test = <span class="function">(<span class="params">...values</span>) =&gt;</span> values;</span><br><span class="line"> test(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// [1, 2, 3];</span></span><br><span class="line"> <span class="comment">/* 结合解构赋值 */</span></span><br><span class="line"> <span class="keyword">var</span> test = <span class="function">(<span class="params">&#123; first,last&#125;</span>) =&gt;</span> &#123;<span class="keyword">return</span> first + last;&#125;;</span><br><span class="line"> test(&#123;<span class="attr">first</span>: <span class="string">'hello'</span>,<span class="attr">last</span>: <span class="string">'World'</span>&#125;); <span class="comment">// helloWorld;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>注意：</li>
</ul>
<ol>
<li>函数体内的this对象是定义时所在的对象而不是执行时所在的对象</li>
<li>不可以当做构造函数，因为箭头函数其实是没有自己的this值的，内部的this就是外层代码块的this</li>
<li>不可用arguments，yiled，不能用yiled也就是不能用Generator函数。</li>
<li>没有自己的this，也就不能使用call，bind，apply方法了。</li>
</ol>
<h2 id="嵌套箭头函数"><a href="#嵌套箭头函数" class="headerlink" title="嵌套箭头函数"></a>嵌套箭头函数</h2><ul>
<li><p>跟ES5一样的普通函数支持函数嵌套一样，ES6的箭头函数也一样支持嵌套。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> insert = <span class="function">(<span class="params">value</span>) =&gt;</span> (&#123;<span class="attr">into</span>: <span class="function">(<span class="params">array</span>) =&gt;</span> (&#123;<span class="attr">after</span>: <span class="function">(<span class="params">afterValue</span>) =&gt;</span> &#123;</span><br><span class="line">  array.splice(array.indexOf(afterValue) + <span class="number">1</span>, <span class="number">0</span>, value);</span><br><span class="line">  <span class="keyword">return</span> array;</span><br><span class="line">&#125;&#125;)&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>应用：</p>
</li>
</ul>
<ol>
<li>部署管道机制（pipeline），前一个函数的输出是后一个函数的输入。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> plus1 = <span class="function"><span class="params">a</span> =&gt;</span> a + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> mult2 = <span class="function"><span class="params">a</span> =&gt;</span> a * <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">mult2(plus1(<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="双冒号运算符"><a href="#双冒号运算符" class="headerlink" title="双冒号运算符"></a>双冒号运算符</h2><ul>
<li>函数绑定运算符是并排的买个冒号（::），双冒号左边是一个对象，右边是一个函数。运算符<br>会自动将左边的对象，作为上下文环境，绑定到右边的函数上面。</li>
</ul>
<h2 id="尾调用调优"><a href="#尾调用调优" class="headerlink" title="尾调用调优"></a>尾调用调优</h2><ul>
<li>尾调用：某个函数的最后一步是调用另一个函数<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> g(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="尾递归"><a href="#尾递归" class="headerlink" title="尾递归"></a>尾递归</h2><ul>
<li>尾递归： 尾调用自身，就是尾递归。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(n === <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> n * factorial(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="函数参数的尾逗号（trailing-comma）"><a href="#函数参数的尾逗号（trailing-comma）" class="headerlink" title="函数参数的尾逗号（trailing comma）"></a>函数参数的尾逗号（trailing comma）</h2><ul>
<li>允许函数的最有一个参数有尾逗号。</li>
<li>至此，函数参数与数组和对象的尾逗号规则，保持一致了，顺带一提，ESLINT的规则也有。</li>
</ul>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  标签: 
		  
			<a href="/tags/ES6/">ES6</a>
		  
		</div>
		
		
		<div class="post-categories">
		  分类: 
		  
			<a href="/categories/前端/">前端</a>
		  
		</div>
				

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2018/05/18/bind,call,apply【明明白白系列】/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">bind,call,apply【搞个明明白白系列】</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    
    
      <a class="next" href="/2018/05/17/Cookie——【明明白白系列】/">
        <span class="next-text nav-default">Cookie【搞个明明白白系列】</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

		<div id="comment"></div>
		<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
		<script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
	<script>
		new Valine({
			el: '#comment',
			notify:false, 
			verify:false, 
			appId: 'jzIDVrftjWXBnBBQ69gkvxur-gzGzoHsz',
			appKey: 'xJDA1U3tIhTEhtKd1QY5w6Cd',
			notify: true, // 邮件提醒!!!
			verify: true, // 验证码			
			placeholder: '说出你的想法！如果你想尽快得到回复的话，请在上方填写你的邮箱和昵称~ヾﾉ≧∀≦)o',
			path:window.location.pathname, 
			avatar:'mm' 
		});
	</script>
    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2017 -
    
    2018
    <span class="footer-author">Janro-Cheung.</span>
    <span class="power-by">
        Use <a class="hexo-link" href="https://hexo.io/">Hexo</a> By<a class="theme-link" href="https://github.com/frostfan/hexo-theme-polarbear"> polarbear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">回到顶部
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
